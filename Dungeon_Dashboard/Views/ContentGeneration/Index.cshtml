@model Dungeon_Dashboard.ContentGeneration.Models.ContentGenerationViewModel

@{
    ViewData["Title"] = "Random Characters Dashboard";
    Layout = "_NewLayout";
}

<link rel="stylesheet" href="~/css/randomCharacterGenerator/randomcharactergenerator.css"/>
<link rel="stylesheet" href="~/css/newSite.css"/>

<div class="rcg-container">
    <h1 class="rcg-title">Random Characters Generator</h1>

    <div class="rcg-buttons">
        <form asp-controller="ContentGeneration" asp-action="GetRandomNPC" method="post">
            <button type="submit" class="rcg-btn">🧙 Load Random NPC</button>
        </form>
        <form asp-controller="ContentGeneration" asp-action="GetRandomMonster" method="post">
            <button type="submit" class="rcg-btn">🐲 Load Random Monster</button>
        </form>
        <form asp-controller="ContentGeneration" asp-action="GetRandomEncounter" method="post">
            <button type="submit" class="rcg-btn">⚔️ Load Random Encounter</button>
        </form>
    </div>

    @{
        const string modelTypeNpc       = "NPC";
        const string modelTypeMonster   = "Monster";
        const string modelTypeEncounter = "Encounter";
        const string modelTypeError     = "Error";
    }

    @switch (Model.ModelType)
    {
        case null or "":
            <div class="rcg-placeholder">
                <h3>Welcome to the Random Characters Generator</h3>
                <p>Click a button above to generate random NPCs, monsters, or encounters.</p>
            </div>
            break;

        case modelTypeNpc when Model.Npc is not null:
            <partial name="Partials/_NPCPartial" model="Model.Npc" />
            break;

        case modelTypeMonster when Model.Monster is not null:
            <partial name="Partials/_MonsterPartial" model="Model.Monster" />
            break;

        case modelTypeEncounter when Model.Encounter is not null:
            <partial name="Partials/_EncounterPartial" model="Model.Encounter" />
            break;

        case modelTypeError when !string.IsNullOrEmpty(Model.ErrorMessage):
            <div class="rcg-placeholder">
                <h3>Oops!</h3>
                <p>Something went wrong! @Model.ErrorMessage</p>
            </div>
            break;
    }
</div>